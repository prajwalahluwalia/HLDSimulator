<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SHIELD â€” System Design Sandbox</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
</head>
<body>
  <header class="header">
    <div>
      <h1>SHIELD</h1>
      <p>System's High-level Interactive Engine for Learning &amp; Design</p>
    </div>
    <div class="header-actions">
      <div class="mode-toggle" role="tablist" aria-label="Mode selector">
        <button id="mode-practice" class="mode-button active" type="button" data-mode="practice">Practice</button>
        <button id="mode-learn" class="mode-button" type="button" data-mode="learn">Learn</button>
      </div>
      <span class="badge">MVP Sandbox</span>
    </div>
  </header>
  <main class="layout" id="layout">
    <aside class="panel" id="left-panel">
      <div class="panel-header">
        <h2>Components</h2>
        <button id="toggle-left-panel" class="icon-button" aria-label="Toggle left panel">âŸ¨</button>
      </div>
      <section class="panel-section components-section">
        <div class="section-body">
          <div class="palette">
            <div class="palette-item" draggable="true" data-type="User" data-label="User">
              <span class="icon">ğŸ‘¤</span>
            </div>
            <div class="palette-item" draggable="true" data-type="LoadBalancer" data-label="Load Balancer">
              <span class="icon">ğŸ§­</span>
            </div>
            <div class="palette-item" draggable="true" data-type="RateLimiter" data-label="Rate Limiter">
              <span class="icon">ğŸ›¡ï¸</span>
            </div>
            <div class="palette-item" draggable="true" data-type="CDN" data-label="CDN">
              <span class="icon">ğŸŒ</span>
            </div>
            <div class="palette-item" draggable="true" data-type="IDGenerator" data-label="ID Generator">
              <span class="icon">ğŸ”‘</span>
            </div>
            <div class="palette-item" draggable="true" data-type="Queue" data-label="Queue">
              <span class="icon">ğŸ“¬</span>
            </div>
            <div class="palette-item" draggable="true" data-type="Server" data-label="Server">
              <span class="icon">ğŸ–¥ï¸</span>
            </div>
            <div class="palette-item" draggable="true" data-type="Database" data-label="Database">
              <span class="icon">ğŸ—„ï¸</span>
            </div>
            <div class="palette-item" draggable="true" data-type="Cache" data-label="Cache">
              <span class="icon">ğŸ§Š</span>
            </div>
            <div class="palette-item" draggable="true" data-type="Queue" data-label="Message Queue">
              <span class="icon">ğŸ“¨</span>
            </div>
            <div class="palette-item" draggable="true" data-type="Worker" data-label="Worker">
              <span class="icon">âš™ï¸</span>
            </div>
            <div class="palette-item" draggable="true" data-type="Edge" data-label="Edge Router">
              <span class="icon">ğŸŒ</span>
            </div>
          </div>
        </div>
      </section>

      <section class="panel-section inspector-section">
        <h2>Inspector</h2>
        <div class="section-body">
          <div id="inspector" class="inspector">
            <p>Select a node to edit its parameters.</p>
          </div>
          <!-- <button id="toggle-connect" class="button">Connector mode: Off</button>
          <p class="helper-text">Tip: hold Shift and drag from one node to another to connect. Click a connection and press Delete to remove.</p> -->
        </div>
        
      </section>
    </aside>

    <section class="canvas-wrapper">
      <button id="reset" class="canvas-reset" aria-label="Clear canvas">ğŸ§½</button>
      <div id="canvas-toolbar" class="canvas-toolbar hidden">
        <div id="preset-picker" class="preset-picker hidden">
          <select id="preset-select" aria-label="Select a system design preset">
            <option value="">Select presetâ€¦</option>
          </select>
        </div>
        <div id="learn-controls" class="learn-controls hidden">
          <button id="evolution-toggle" class="mode-button" type="button" aria-pressed="false">Evolution: Off</button>
          <div id="stage-picker" class="stage-picker hidden">
            <select id="stage-select" aria-label="Select an evolution stage"></select>
          </div>
        </div>
      </div>
      <button id="open-left-panel" class="floating-toggle left" aria-label="Show left panel">âŸ©</button>
      <button id="open-right-panel" class="floating-toggle right" aria-label="Show right panel">âŸ¨</button>
      <div id="canvas" class="canvas">
        <div id="canvas-content" class="canvas-content">
          <svg id="connections" class="connections"></svg>
        </div>
      </div>
    </section>

    <aside class="panel" id="right-panel">
      <div class="panel-header">
        <h2 id="right-panel-title">Simulation Output</h2>
        <div id="right-panel-tabs" class="panel-tabs" role="tablist" aria-label="Mode selector">
          <button id="panel-tab-simulate" class="tab-button active" type="button">Simulate</button>
          <button id="panel-tab-faq" class="tab-button" type="button">FAQ</button>
        </div>
        <button id="toggle-right-panel" class="icon-button" aria-label="Toggle right panel">âŸ©</button>
      </div>
      <section id="simulate-view" class="panel-view">
        <div id="output" class="output">
          <p>Run a simulation to see results.</p>
        </div>
        <div id="validation-panel" class="validation-panel hidden"></div>
        <div class="panel-actions">
          <button id="simulate" class="button primary">Simulate</button>
        </div>
      </section>
      <section id="faq-view" class="panel-view hidden">
        <div id="faq-content" class="faq-content">
          <p>Select a design to view interview Q&amp;A.</p>
        </div>
      </section>
    </aside>
  </main>

  <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
